---
title: "Claude Code実践ガイド: コミュニケーションの基本"
emoji: "💬"
type: "tech"
topics: ["claudecode", "ai", "cli", "開発ツール"]
published: false
---

# コミュニケーションの基本

## エージェント型ツールとは

Claude Codeは「エージェント型」のコーディングツールです。従来のコード補完ツールとは根本的に異なります。

[公式ドキュメント](https://code.claude.com/docs/en/best-practices)では次のように説明されています：

> Claude Codeはエージェント的なコーディング環境です。質問に答えて待つチャットボットとは異なり、Claude Codeはファイルを読み、コマンドを実行し、変更を加え、あなたが見ている間、リダイレクトする間、または完全に離れている間も自律的に問題に取り組むことができます。
>
> これにより、働き方が変わります。自分でコードを書いてClaudeにレビューを依頼する代わりに、何を作りたいかを説明すると、Claudeがそれをどう構築するか考え出します。Claudeは探索し、計画し、実装します。

つまりClaude Codeは「指示を待つアシスタント」ではなく「タスクを委譲できる自律的なエージェント」です。この違いが、コミュニケーションの仕方に影響します。

## なぜコミュニケーションが重要か

[Anthropicのベストプラクティス](https://www.anthropic.com/engineering/claude-code-best-practices)では次のように述べています：

> Claude Codeとの通信方法は、結果の質に大きく影響します。

[公式ドキュメント](https://code.claude.com/docs/en/best-practices)でも同様の指摘があります：

> 「バグを直して」の代わりに「ユーザーが間違った認証情報を入力した後、空白の画面が表示されるログインバグを直して」と試してみてください。

エージェントは人間以上に明示的なコンテキストを必要とします。人間のエンジニアであれば背景を知っていたり、空気を読んで補完したりできますが、エージェントは：
- 毎セッション、コンテキストがリセットされる
- 暗黙の前提を推測する能力に限界がある
- 指示されていないことは基本的にやらない

曖昧な指示は曖昧な結果を生みます。

## 効果的なコンテキストの渡し方

[公式ドキュメント](https://code.claude.com/docs/en/best-practices)では以下の方法を推奨しています：

> **@でファイルを参照する**：コードがどこにあるか説明する代わりに、Claudeが応答する前にファイルを読みます。
>
> **画像を直接ペーストする**：コピー/ペーストまたはドラッグ&ドロップでプロンプトに画像を入れます。
>
> **ドキュメントやAPI参照のURLを渡す**：/permissionsで頻繁に使うドメインを許可リストに追加します。
>
> **データをパイプする**：`cat error.log | claude`でファイル内容を直接送信します。
>
> **Claudeに必要なものを取得させる**：Bashコマンド、MCPツール、またはファイル読み込みを使って、Claude自身にコンテキストを取得するよう伝えます。

## 指示の構成

効果的な指示には以下の要素を含めます：

1. **ゴール**：何を達成したいか（1行）
2. **背景・制約**：なぜこれが必要か、技術的・組織的な制約
3. **現状**：今どうなっているか
4. **期待する出力**：どういう形式で結果がほしいか

**悪い例**
```
この機能を改善して
```

**良い例**
```
ログイン機能のレスポンスが遅い。
現状：ログインAPIのレスポンスが平均3秒かかっている。
目標：1秒以内にしたい。
調査して、ボトルネックを特定し、改善案を3つ提案して。
それぞれのメリット・デメリットも説明して。
```

## 作業の進め方

### 計画から始める

前回の記事で述べた通り、計画から始めることが重要です。

[Anthropicのベストプラクティス](https://www.anthropic.com/engineering/claude-code-best-practices)では次のワークフローを推奨しています：

> 1. 関連ファイル、画像、URLを読むようClaudeに依頼しますが、まだコードを書かないように明示的に伝えます。
> 2. 特定の問題にどうアプローチするか計画を立てるようClaudeに依頼します。
> 3. Claudeにコードで解決策を実装するよう依頼します。
> 4. Claudeに結果をコミットしてPRを作成するよう依頼します。

### 中断と方向転換

[公式ドキュメント](https://code.claude.com/docs/en/best-practices)では次のように述べています：

> Escapeを押すと、任意のフェーズ（思考、ツール呼び出し、ファイル編集）でClaudeを中断でき、コンテキストを保持したまま指示をリダイレクトまたは拡張できます。Escapeを2回押すと履歴に戻り、以前のプロンプトを編集して別の方向を探索できます。

期待と違う方向に進んでいると感じたら、早めに中断して軌道修正します。

### 出力の確認

[公式ドキュメント](https://code.claude.com/docs/en/best-practices)では次のように述べています：

> Auto-Acceptモード（Shift+Tabでトグル）はClaudeを自律的に動作させますが、通常はアクティブなコラボレーターとしてClaudeのアプローチを導くことで、より良い結果が得られます。

エージェントは完璧ではありません。出力をそのまま信じるのではなく、自分で確認する習慣をつけます。

## たたき台→改善ループ

エージェントとの対話は以下のパターンで進めます：

1. 最初の出力を見る
2. 良い点・悪い点をフィードバックする
3. 改善版を出してもらう
4. 繰り返す

「全然違う」と言うより「この部分は良い、この部分は変えて」と具体的に伝えるほうが、収束が速くなります。

## 失敗したときの対処

期待と違う結果が返ってきたら、まず自分の指示を振り返ります。

チェックポイント：
- ゴールは明確だったか
- 背景・制約を伝えたか
- 現状を正しく伝えたか
- 期待する出力形式を示したか

指示に問題があれば、補足して再度依頼します。指示に問題がないのに結果が悪い場合は、タスクの分割や別のアプローチを検討します。

## まとめ

- Claude Codeはエージェント型ツールで、自律的にタスクを実行する
- コミュニケーションの質が結果の質を左右する
- @でファイル参照、画像ペースト、URL指定などでコンテキストを渡す
- ゴール、背景、現状、期待出力を明示する
- 計画から始め、たたき台→改善ループで進める
- 出力をそのまま信じず、自分で確認する
