---
title: "Claude Codeを使い倒している人ほど /insights を使ってみてほしい"
emoji: "📊"
type: "tech"
topics: ["claudecode", "ai", "cli", "開発ツール"]
published: false
---

## はじめに

Claude Codeをしばらく使っていると、なんとなく自分なりの使い方が固まってきます。
「このパターンはうまくいく」「これは苦手そう」という感覚も出てきます。

でも、それが本当に最適かは分かりません。
もっと良い使い方があるのに、気づいていないだけということもあります。

`/insights`は、そういう「気づいていない改善点」を具体的に教えてくれるコマンドです。

## /insights とは

`/insights`を実行すると、過去1ヶ月ほどのセッションログを分析したレポートが生成されます。

レポートには使用統計も含まれますが、正直そこまで重要ではありません。
価値があるのは、そのデータから導き出される**具体的な改善提案**です。

## 何を提案してくれるか

### CLAUDE.mdに追加すべき内容

プロジェクト固有のルールや制約で、CLAUDE.mdに書いておくべきことを提案してくれます。

提案は具体的な文章として出力され、コピーボタンがついています。
そのままCLAUDE.mdに貼り付けられます。

### 作成すべきスキル

繰り返し行っている作業をスキル化する提案が出ます。

自分の場合、「定期的にコードレビューしているが、より明確な指示でやり直す必要があった」という分析結果から、レビュー手順を標準化するスキルの作成を推薦されました。

言われてみれば確かに、レビュー依頼のたびに似たような指示を毎回書いていました。

### 作成すべきHooks

セッションで発生した問題を防ぐためのHooksを提案してくれます。

自分の場合、「モックメソッドの不足でCIが失敗した」という分析から、Goファイル編集後にテストを自動実行するHooksを推薦されました。
モックの問題を早期に検出するためです。

過去のセッションで実際に起きた問題をベースにした提案なので、的を射ています。

### 使うべきMCPサーバー

作業内容に合わせて、導入すべきMCPサーバーを提案してくれます。

自分の場合はGitLab MCPを推薦されました。
CLIでも同じことはできますが、MCPとして導入すればオンタイムで操作できます。
であれば、よく使う操作をスキル化しておくのも良さそうだと気づきました。

### 普段やっていない使い方

自分が使っていない機能や、他のユーザーがよく使っているパターンを教えてくれます。

「こういう使い方もできる」という発見があります。

## 使い方

Claude Codeのセッション中に `/insights` と入力します。

```
> /insights
```

しばらく待つとHTMLレポートが生成されます。

```bash
open ~/.claude/usage-data/report.html
```

分析にはHaikuモデルが使われるので、コストは低いです。
一度分析したセッションはキャッシュされるので、再実行時は新規セッション分のみ処理されます。

## ヘビーユーザーにこそ価値がある

/insightsはセッションログから傾向を分析します。
使えば使うほど、提案の精度が上がります。

日常的にClaude Codeを使っている人ほど、「なるほど」と思える提案が出てきます。
逆に、数回しか使っていないと意味のあるパターンが見えにくいです。

月に一度くらいのペースで実行して、提案を眺めてみるのがおすすめです。

## まとめ

- `/insights`は過去のセッションを分析して改善提案を出すコマンド
- 使用統計よりも、具体的な提案に価値がある
- CLAUDE.mdへの追記、スキル、Hooks、MCPサーバーの導入を推薦してくれる
- 提案は実際に起きた問題や繰り返しパターンに基づいている
- ヘビーユーザーほど精度の高い提案が得られる

Claude Codeを使い倒しているなら、一度 `/insights` を試してみてください。
自分では気づかなかった改善点が見つかるはずです。
